# 제조 장비 고장 예측 API 


제조 공정 장비 8대에 대한 개별 고장 예측(0/1) 모델 8가지를 적용하여 시간에 따른 고장 예측 결과를 database에 insert하는 API 

### Summary 
총 8개의 장비에 대한 고장 예측 (앙상블)모델을 개발하여, 평균 0.77의 재현율(Recall)과 0.76의 정확도(Accuracy)로 평가되었음.

그러나, 일부 특정 장비의 경우 모델의 신뢰성이 상당히 떨어지는 것으로 관찰됨. (데이터 부족) 

### Process 
1. Feature 생성
   파생변수 생성(통계 변수, 차분 변수 등)
2. Labeling
   - 분류 모델: 고장 발생 시점으로부터 직전 100시간은 1, 그 외 0 부여
   - 회귀 모델: 시간 단위 TTF(Time-to-Failure)를 target값으로 선정
     - (1구간) 고장 발생 시점으로부터 직전 100시간: 0~10 (간격 0.1)
     - (2구간) 고장 발생 시점으로부터 직전 200~100시간: 10~60 (간격 0.5)
     - (3구간) 고장 발생 시점으로부터 직전 300~200시간: 60~160 (간격 1)
3. 전처리
4. Ensemble modeling
   - 최종 모델 예측값: 이진분류 형태(1/0)
     - 1: 고장 발생 가능성이 있는 구간(윈도우 길이: 100시간)
     - 0: 고장 발생 가능성이 없는 구간
   - Ensemble 방식
     - 단일 모델이 회귀 모델인 경우: 분류 모델 결과와 동일하게 scaling
       - 회위 모델 예측 결과인 TTF(Time-to-Failure) -> Scaling(min-max) 후 1에서 차감 -> 0~1 사이의 확률값
     - Threshold 선정 기준: Recall 지표를 우선적으로 고려
       - 신뢰도가 낮은 모델의 경우 실제 0이지만 1이라고 예측하는 case가 상대적으로 더 많아질 가능성이 높음
     - 모델 유형 의미
       - 1: 전체 훈련 데이터(테스트 데이터셋을 제외한 모든 데이터)로 학습
       - 2: 전체 훈련 데이터 중 최신 데이터로만 학습
       - 2': 전체 훈련 데이터 중 일부 raid만 추출하여 학습
      
         
![](https://velog.velcdn.com/images/hajeongjj/post/758e9d8b-9220-473b-8562-7e434eb99229/image.png)


  
